<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough">

<ui:composition template="/WEB-INF/templates/default.xhtml">
	<ui:define name="content">
		<div class="section no-pad-bot" id="index-banner">
			<div class="container">
				<h:form>
					<h:commandLink
						styleClass="#{style.colorPrimary} btn waves-effect waves-light"
						value="Add Dummy Polls"
						actionListener="#{PollController.addDummyPolls}" />
				</h:form>
				<br />
				<div data-bind="visible: ready">
					<div class="nav-wrapper">
						<ul style="display: inline;" class="left"
							data-bind="foreach: polls">
							<li class="#{style.colorPrimary} btn waves-effect waves-light"
								data-bind="text: $data.name,
								css: { disabled: ($data == $root.selectedPoll()) },
								click: $root.selectPoll"></li>
						</ul>
						<br /> <br />
					</div>

					<br />
					<div data-bind="visible: selectedPoll()">
						<div data-bind="with: selectedPoll">
							<h6 style="font-size: 25px">Poll Description:</h6>
							<p data-bind="text: description" />
						</div>

						<br />
						<h6 style="font-size: 25px">Contestants:</h6>
						<table class="striped responsive-table"
							data-bind="visible: selectedPollData">
							<thead>
								<tr>
									<th>ID</th>
									<th>CoupleID</th>
									<th>Name</th>
								</tr>
							</thead>
							<tbody data-bind="foreach: selectedPollData">
								<tr>
									<td value="#{ContestantController.id}"
										data-bind="text: $data.id" />
									<td data-bind="text: $data.voteGroupId" />
									<td data-bind="text: $root.fullName($data)" />
									<td style="float: right"><h:link
											class="red btn waves-effect waves-light">
											<i class="material-icons">delete</i>
										</h:link></td>
									<td style="float: right"><h:link
											outcome="modifyContestant"
											class="#{style.colorPrimaryBase} btn waves-effect waves-light">
											<i class="material-icons">mode_edit</i>
										</h:link></td>
								</tr>
							</tbody>
						</table>
					</div>

					<!-- Loading -->
					<div class="progress" data-bind="visible: !selectedPollData">
						<div class="indeterminate"></div>
					</div>
				</div>
			</div>
			<div class="progress" data-bind="visible: !ready">
				<div class="indeterminate"></div>
			</div>
		</div>

	</ui:define>
	<ui:define name="javascript">
		<h:outputScript library="js" name="manage.js" />
	</ui:define>
</ui:composition>
</html>
